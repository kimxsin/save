<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ì´ë©”ì¼</title>
    <link rel="stylesheet" href="/main/css/main-style.css"> <!-- ë©”ì¸ ìŠ¤íƒ€ì¼ ì—°ê²° -->
    <script src="/main/js/main.js"></script> <!-- ë©”ì¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—°ê²° -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=keyboard_arrow_down" />
    <link rel="stylesheet" href="/sidemenu/mail/css/mail-style.css">
</head>
<body>
<header>
    <div class="side-menu-bar">
        <ul>
            <li><a href="/main">ğŸ¶PetHarmonyğŸ¶</a></li>
            <li><a href="http://localhost:9595/sidemenu/schedule">ê·¼íƒœê´€ë¦¬</a></li>
            <li><a href="http://localhost:9595/sidemenu/messenger">ë©”ì‹ ì €(ì±„íŒ…)</a></li>
            <li><a href="http://localhost:9595/sidemenu/mail">ì´ë©”ì¼</a></li>
            <li><a href="http://localhost:9595/sidemenu/adoption">ì…ì–‘</a></li>
            <li class="animal-menu">
                <div class="menu-wrapper">
                    <a href="http://localhost:9595/sidemenu/animals">ë™ë¬¼
                        <span class="material-symbols-outlined">keyboard_arrow_down</span>
                    </a>
                </div>
                <ul class="sub-menu">
                    <li><a href="http://localhost:9595/sidemenu/animals">êµ¬ì¡°ë™ë¬¼</a></li>
                    <li><a href="http://localhost:9595/sidemenu/adoptionComplete">ì…ì–‘ì™„ë£Œ</a></li>
                    <li><a href="http://localhost:9595/sidemenu/stock">ì¬ê³ ê´€ë¦¬</a></li>
                </ul>
            </li>
            <li><a href="http://localhost:9595/sidemenu/facilities">ì‹œì„¤ê´€ë¦¬</a></li>
            <li><a href="http://localhost:9595/sidemenu/board">ì „ì‚¬ê²Œì‹œíŒ</a></li>
            <li><a href="http://localhost:9595/sidemenu/employee">ì§ì›ì •ë³´</a></li>
            <li><a href="http://localhost:9595/sidemenu/mypage">ë§ˆì´í˜ì´ì§€</a></li>
            <li><a href="http://localhost:9595/sidemenu/approval">ê²°ì¬</a></li>
            <li class="admin-menu">
                <div class="admin-menu-wrapper">
                    <a href="http://localhost:9595/sidemenu/manager">ê´€ë¦¬ìì „ìš©
                        <span class="material-symbols-outlined">keyboard_arrow_down</span>
                    </a>
                </div>
                <ul class="sub-menu">
                    <li><a href="http://localhost:9595/sidemenu/manager">ê´€ë¦¬ìí˜ì´ì§€</a></li>
                    <li><a href="http://localhost:9595/sidemenu/employeeRegister">ì‚¬ì›ë“±ë¡</a></li>
                    <li><a href="http://localhost:9595/sidemenu/employeeManagement">ì§ì›ê´€ë¦¬</a></li>
                    <li><a href="http://localhost:9595/sidemenu/approvalBox">ê²°ì¬í•¨</a></li>
                </ul>
            </li>
        </ul>
    </div>
</header>
<!--<div class="change-screen-email">-->
<!--    <div id="change-screen-content">-->
<!--        <div class="form">-->
<!--            <div class="navigation">-->
<!--                <nav>-->
<!--                    <ul>-->
<!--                        <li style="font-size: 20px;"><b>ğŸ“®&nbsp;&nbsp;&nbsp;&nbsp;ì „ì²´ìª½ì§€</b></li><br><br><br>-->
<!--                        <li style="font-size: 20px;"><b>ğŸ“¥&nbsp;&nbsp;&nbsp;&nbsp;ë°›ì€ìª½ì§€í•¨</b></li><br><br><br>-->
<!--                        <li style="font-size: 20px;"><b>ğŸ“¤&nbsp;&nbsp;&nbsp;&nbsp;ë³´ë‚¸ìª½ì§€í•¨</b></li><br><br><br>-->
<!--                        <li style="font-size: 20px;"><b>â­&nbsp;&nbsp;&nbsp;&nbsp;ì¤‘ìš”ìª½ì§€í•¨</b></li><br><br><br>-->
<!--                        <li style="font-size: 20px;"><b>âŒ&nbsp;&nbsp;&nbsp;&nbsp;íœ´ì§€í†µ</b></li><br><br><br>-->
<!--                        <li style="font-size: 20px;"><b>ğŸ“¦&nbsp;&nbsp;&nbsp;&nbsp;ë³´ê´€í•¨</b>-->
<!--                            <br><br><ul>-->
<!--                                <li style="font-size: 15px;"><b>- ë°›ì€ìª½ì§€ ë³´ê´€í•¨</b></li>-->
<!--                                <li style="font-size: 15px;"><b>- ë³´ë‚¸ìª½ì§€ ë³´ê´€í•¨</b></li>-->
<!--                            </ul>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                    <button id="messageModalBtn" class="styled-button" onclick="location.href='/sidemenu/mail/regist'">ğŸ– ìª½ì§€ ì“°ê¸°</button>-->
<!--                </nav>-->
<!--            </div>-->

<!--            <div class="form1">-->
<!--                <div class="main-button">-->
<!--                    <button class="main-button1">âŒ íœ´ì§€í†µ</button>-->
<!--                    <button class="main-button2">â­ ì¤‘ìš”ë³´ê´€í•¨</button>-->
<!--                    <button class="main-button3">ğŸ“¦ ë°›ì€ìª½ì§€ë³´ê´€í•¨</button>-->
<!--                </div>-->
<!--                <table border="1" class="post-list">-->
<!--                    <colgroup>-->
<!--                        <col style="width: 1%;">-->
<!--                        <col style="width: 1%;">-->
<!--                        <col style="width: 2%;">-->
<!--                        <col style="width: 3%;">-->
<!--                        <col style="width: 12%;">-->
<!--                        <col style="width: 1%;">-->
<!--                    </colgroup>-->
<!--                    <thead>-->
<!--                    <tr>-->
<!--                        <th>-->
<!--                            <input type="checkbox" id="selectAll" class="checkbox1" onclick="toggleSelectAll(this)">-->
<!--                        </th>-->
<!--                        <th>-->
<!--                            <input type="checkbox" id="selectAllStars" class="checkbox2" onclick="toggleStarSelectAll(this)">-->
<!--                            <label for="selectAllStars" id="selectAllStarsLabel"></label>-->
<!--                        </th>-->
<!--                        <th>ë©”ì¼ë²ˆí˜¸</th>-->
<!--                        <th>ë³´ë‚¸ì‚¬ëŒ</th>-->
<!--                        <th>ì œëª©</th>-->
<!--                        <th>ë‚ ì§œ</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="mail : ${mail}">-->
<!--                        <td>-->
<!--                            <input type="checkbox" class="select-item" name="selectedMail" th:value="${mail.emailCode}">-->
<!--                        </td>-->
<!--                        <td>-->
<!--                            <label class="star-checkbox">-->
<!--                                <input type="checkbox" class="star-check" id="star_{{mail.emailCode}}" name="starredMail" th:value="${mail.importantEmail}" onchange="toggleStar(this)">-->
<!--                                <i></i>-->
<!--                            </label>-->
<!--                        </td>-->
<!--                        <td>-->
<!--                            <a th:href="@{/mail/details/{emailCode}(emailCode=${mail.emailCode})}" class="styled-link"></a>-->
<!--                        </td>-->
<!--                        <td th:text="${mail.senderId}"></td>-->
<!--                        <td th:text="${mail.emailTitle}"></td>-->
<!--                        <td th:text="${#dates.format(mail.sendDate, 'yyyy-MM-dd')}"></td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->

<!--                <div id="messageModal" class="modal">-->
<!--                    <div class="modal-content">-->
<!--                        <span class="close-btn" id="closeModalBtn">&times;</span>-->
<!--                        <h2>ìª½ì§€ ë³´ë‚´ê¸°</h2>-->
<!--                        <button id="openModalBtn" class="styled-button2"><b>ğŸ” ì°¾ê¸°</b></button>-->
<!--                        <form id="messageForm" action="/sidemenu/mail/regist" method="post">-->
<!--                            <div class="form-group">-->
<!--                                <label for="recipient">ë°›ëŠ” ì‚¬ëŒ</label>-->
<!--                                <input class="textbox" type="text" id="recipient" name="recipient" placeholder="ë°›ëŠ” ì‚¬ëŒì„ ì…ë ¥í•˜ì„¸ìš”" required>-->
<!--                            </div>-->
<!--                            <div class="form-group">-->
<!--                                <label for="message">ìª½ì§€ ë‚´ìš©</label>-->
<!--                                <textarea id="message" name="message" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" required></textarea>-->
<!--                            </div>-->
<!--                            <button type="submit" id="sendMessageBtn" class="submit">ë³´ë‚´ê¸°</button>-->
<!--                        </form>-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div id="addressBookModal" class="modal2">-->
<!--                    <div class="modal-content2">-->
<!--                        <span class="close-btn" id="closeModalBtn2">&times;</span>-->
<!--                        <h2>ì£¼ì†Œë¡</h2>-->
<!--                        <div class="search-bar">-->
<!--                            <input class="textbox2" type="text" id="searchInput2" placeholder="ì§ì› ê²€ìƒ‰..." oninput="filterEmployees()">-->
<!--                        </div>-->
<!--                        <div class="select-all">-->
<!--                            <input type="checkbox" id="selectAllEmployees" onclick="toggleEmployeeSelectAll(this)"> ì „ì²´ ì„ íƒ-->
<!--                        </div>-->
<!--                        <div id="addressBookContainer2">-->
<!--                            <div class="department-group">-->
<!--                                <h3>ğŸ“‚ ê²½ì˜ë¶€</h3>-->
<!--                                <div class="employee-list">-->
<!--                                    <label><input type="checkbox" class="employee-check ê²½ì˜ë¶€" data-emp-name="ì´ìˆœì œ"> ì´ìˆœì œ</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ê²½ì˜ë¶€" data-emp-name="ìµœë§Œì‹"> ìµœë§Œì‹</label>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="department-group">-->
<!--                                <h3>ğŸ“‚ ì• ê²¬ë‹´ë‹¹ë¶€</h3>-->
<!--                                <div class="employee-list">-->
<!--                                    <label><input type="checkbox" class="employee-check ì• ê²¬ë‹´ë‹¹ë¶€" data-emp-name="í™©ì •ë§Œ"> í™©ì •ë§Œ</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ì• ê²¬ë‹´ë‹¹ë¶€" data-emp-name="ì†¡í•´êµ"> ì†¡í•´êµ</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ì• ê²¬ë‹´ë‹¹ë¶€" data-emp-name="ì •ìœ ì„±"> ì •ìœ ì„±</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ì• ê²¬ë‹´ë‹¹ë¶€" data-emp-name="ë§ˆë™ì‹"> ë§ˆë™ì‹</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ì• ê²¬ë‹´ë‹¹ë¶€" data-emp-name="ê¹€ìœ¤ì‹"> ê¹€ìœ¤ì‹</label>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="marketing-group">-->
<!--                                <h3>ğŸ“‚ ë§ˆì¼€íŒ…ë¶€</h3>-->
<!--                                <div class="employee-list">-->
<!--                                    <label><input type="checkbox" class="employee-check ë§ˆì¼€íŒ…ë¶€" data-emp-name="ë¥˜ìŠ¹ìš©"> ë¥˜ìŠ¹ìš©</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ë§ˆì¼€íŒ…ë¶€" data-emp-name="ì „ë„ì–¸"> ì „ë„ì–¸</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ë§ˆì¼€íŒ…ë¶€" data-emp-name="ê¹€í•´ìˆ˜"> ê¹€í•´ìˆ˜</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ë§ˆì¼€íŒ…ë¶€" data-emp-name="ì¡°ì •ì‹"> ì¡°ì •ì‹</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ë§ˆì¼€íŒ…ë¶€" data-emp-name="í•œì§€ë§Œ"> í•œì§€ë§Œ</label>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="business-group">-->
<!--                                <h3>ğŸ“‚ ì˜ì—…ë¶€</h3>-->
<!--                                <div class="employee-list">-->
<!--                                    <label><input type="checkbox" class="employee-check ì˜ì—…ë¶€" data-emp-name="ë³€ìš°ì‹"> ë³€ìš°ì‹</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ì˜ì—…ë¶€" data-emp-name="ê¹€ê³ ìš´"> ê¹€ê³ ìš´</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ì˜ì—…ë¶€" data-emp-name="ì´ë³‘í˜„"> ì´ë³‘í˜„</label>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="distribution-group">-->
<!--                                <h3>ğŸ“‚ ë¬¼ë¥˜ë¶€</h3>-->
<!--                                <div class="employee-list">-->
<!--                                    <label><input type="checkbox" class="employee-check ë¬¼ë¥˜ë¶€" data-emp-name="ì†¡ê°•íš¨"> ì†¡ê°•íš¨</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ë¬¼ë¥˜ë¶€" data-emp-name="ì„¤ê²½ê·œ"> ì„¤ê²½ê·œ</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ë¬¼ë¥˜ë¶€" data-emp-name="ì¥ë™ê²€"> ì¥ë™ê²€</label>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="Service-group">-->
<!--                                <h3>ğŸ“‚ ê³ ê°ì—…ë¬´ë¶€</h3>-->
<!--                                <div class="employee-list">-->
<!--                                    <label><input type="checkbox" class="employee-check ê³ ê°ì—…ë¬´ë¶€" data-emp-name="ê³ ìš´ì •"> ê³ ìš´ì •</label>-->
<!--                                    <label><input type="checkbox" class="employee-check ê³ ê°ì—…ë¬´ë¶€" data-emp-name="ê¹€íƒœë¼"> ê¹€íƒœë¼</label>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                        <button id="submitSelection2" onclick="submitSelections()" class="styled-button3">ì„ íƒ ì™„ë£Œ</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
</body>
<script>
    // ìª½ì§€ ì“°ê¸° ëª¨ë‹¬ ì—´ê¸°
    document.getElementById('messageModalBtn').addEventListener('click', function() {
        document.getElementById('messageModal').style.display = 'block';
    });

    // ìª½ì§€ ì“°ê¸° ëª¨ë‹¬ ë‹«ê¸°
    document.getElementById('closeModalBtn').addEventListener('click', function() {
        document.getElementById('messageModal').style.display = 'none';
    });

    // ì°¾ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ì£¼ì†Œë¡ ëª¨ë‹¬ ì—´ê¸°
    document.getElementById('openModalBtn').addEventListener('click', function() {
        document.getElementById('addressBookModal').style.display = 'block';
    });

    // ì£¼ì†Œë¡ ëª¨ë‹¬ ë‹«ê¸°
    document.getElementById('closeModalBtn2').addEventListener('click', function() {
        document.getElementById('addressBookModal').style.display = 'none';
    });

    // ì„ íƒëœ ì§ì›ë“¤ì˜ ì´ë¦„ì„ ê°€ì ¸ì™€ì„œ ì²˜ë¦¬
    function submitSelections() {
        const selectedEmployees = [];
        const checkboxes = document.querySelectorAll('.employee-check:checked');

        checkboxes.forEach(cb => {
            const employee = {
                empCode: cb.getAttribute('data-emp-code'),
                empName: cb.getAttribute('data-emp-name'),
                empEmail: cb.getAttribute('data-emp-email'),
                empPhone: cb.getAttribute('data-emp-phone'),
                hireDate: cb.getAttribute('data-hire-date'),
                jobName: cb.getAttribute('data-job-name'),
                deptCode: cb.getAttribute('data-dept-code')
            };
            selectedEmployees.push(employee);
        });

        // ë°°ì—´ í™•ì¸: ì„ íƒëœ ì§ì› í™•ì¸
        console.log("ì„ íƒëœ ì§ì› ë°°ì—´:", selectedEmployees);

        if (selectedEmployees.length === 0) {
            alert('ì„ íƒëœ ì§ì›ì´ ì—†ìŠµë‹ˆë‹¤.');
            return;
        }

        // 'ë°›ëŠ” ì‚¬ëŒ' ì…ë ¥ í•„ë“œì— ì´ë¦„ì„ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥
        const recipientField = document.getElementById('recipient');
        if (recipientField) {
            // ì„ íƒëœ ì§ì›ë“¤ì˜ ì´ë¦„ì„ ë°°ì—´ë¡œ ê°€ì ¸ì™€ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥
            const selectedNames = selectedEmployees.map(employee => employee.empName); // ì´ë¦„ë§Œ ì¶”ì¶œ
            console.log("ì„ íƒëœ ì§ì› ì´ë¦„ë“¤:", selectedNames); // ì´ë¦„ í™•ì¸
            recipientField.value = selectedNames.join(', '); // ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì…ë ¥
        }

        // ì£¼ì†Œë¡ ëª¨ë‹¬ì„ ë‹«ìŠµë‹ˆë‹¤
        const addressBookModal = document.getElementById('addressBookModal');
        if (addressBookModal) {
            addressBookModal.style.display = 'none';
        }
    }

    // ì§ì› ê²€ìƒ‰ í•„í„°ë§
    function filterEmployees() {
        const query = document.getElementById('searchInput2').value.toLowerCase();
        const employees = document.querySelectorAll('.employee-list label');

        employees.forEach(employee => {
            const name = employee.textContent.toLowerCase();
            if (name.includes(query)) {
                employee.style.display = '';
            } else {
                employee.style.display = 'none';
            }
        });
    }

    // ì „ì²´ ì„ íƒ ì²´í¬ë°•ìŠ¤ ì²˜ë¦¬
    function toggleEmployeeSelectAll(source) {
        const checkboxes = document.querySelectorAll('.employee-check');
        checkboxes.forEach(function(checkbox) {
            checkbox.checked = source.checked;
        });
    }

    // ë©”ì¼ ëª©ë¡ì—ì„œ ì „ì²´ ì„ íƒ ì²´í¬ë°•ìŠ¤ ì²˜ë¦¬
    function toggleSelectAll(source) {
        const checkboxes = document.querySelectorAll('.select-item');
        checkboxes.forEach(function(checkbox) {
            checkbox.checked = source.checked;
        });
    }

    // ë³„í‘œ ì„ íƒ ì „ì²´ ì²˜ë¦¬
    function toggleStarSelectAll(source) {
        const checkboxes = document.querySelectorAll('.star-check');
        checkboxes.forEach(function(checkbox) {
            checkbox.checked = source.checked;
        });
    }

    // ë³„í‘œ í´ë¦­ ì²˜ë¦¬
    function toggleStar(checkbox) {
        const isChecked = checkbox.checked;
        const starElement = checkbox.closest('.email-item').querySelector('.star');

        if (isChecked) {
            starElement.classList.add('highlighted');
        } else {
            starElement.classList.remove('highlighted');
        }
    }
</script>
</html>