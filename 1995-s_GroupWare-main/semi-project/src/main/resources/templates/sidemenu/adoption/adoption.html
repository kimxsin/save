<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>입양</title>
    <link rel="stylesheet" href="/main/css/main-style.css"> <!-- 메인 스타일 연결 -->
    <script src="/main/js/main.js"></script> <!-- 메인 자바스크립트 연결 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=keyboard_arrow_down" />
    <link rel="stylesheet" href="/sidemenu/adoption/css/adoption-style.css">
</head>
<body>
<header>
    <div class="side-menu-bar">
        <ul>
            <li><a href="/main">🐶PetHarmony🐶</a></li>
            <li><a href="http://localhost:9595/sidemenu/schedule">근태관리</a></li>
            <li><a href="http://localhost:9595/sidemenu/messenger">메신저(채팅)</a></li>
            <li><a href="http://localhost:9595/sidemenu/mail">이메일</a></li>
            <li><a href="http://localhost:9595/sidemenu/adoption">입양</a></li>
            <li class="animal-menu">
                <div class="menu-wrapper">
                    <a href="http://localhost:9595/sidemenu/animals">동물
                        <span class="material-symbols-outlined">keyboard_arrow_down</span>
                    </a>
                </div>
                <ul class="sub-menu">
                    <li><a href="http://localhost:9595/sidemenu/animals">구조동물</a></li>
                    <li><a href="http://localhost:9595/sidemenu/adoptionComplete">입양완료</a></li>
                    <li><a href="http://localhost:9595/sidemenu/stock">재고관리</a></li>
                </ul>
            </li>
            <li><a href="http://localhost:9595/sidemenu/facilities">시설관리</a></li>
            <li><a href="http://localhost:9595/sidemenu/board">전사게시판</a></li>
            <li><a href="http://localhost:9595/sidemenu/employee">직원정보</a></li>
            <li><a href="http://localhost:9595/sidemenu/mypage">마이페이지</a></li>
            <li><a href="http://localhost:9595/sidemenu/approval">결재</a></li>
            <li class="admin-menu">
                <div class="admin-menu-wrapper">
                    <a href="http://localhost:9595/sidemenu/manager">관리자전용
                        <span class="material-symbols-outlined">keyboard_arrow_down</span>
                    </a>
                </div>
                <ul class="sub-menu">
                    <li><a href="http://localhost:9595/sidemenu/manager">관리자페이지</a></li>
                    <li><a href="http://localhost:9595/sidemenu/employeeRegister">사원등록</a></li>
                    <li><a href="http://localhost:9595/sidemenu/employeeManagement">직원관리</a></li>
                    <li><a href="http://localhost:9595/sidemenu/approvalBox">결재함</a></li>
                </ul>
            </li>
        </ul>
    </div>
</header>
<div class="change-screen-adoption">
    <div id="change-screen-content">

        <div class="tab-container">
            <button class="tab-button active" data-tab="in-progress">입양진행중</button>
            <button class="tab-button" data-tab="completed">입양완료</button>
            <button class="tab-button" data-tab="canceled">입양취소</button>
        </div>

        <!-- 탭 콘텐츠 -->
        <div class="tab-content" id="in-progress">
            <div class="adopterList-container">
                <div class="card" th:each="adopting : ${adoptingList}">
                    <div class="adoptStatus">
                        <span th:text="${adopting.adoptStatus}"></span>
                    </div>
                    <p class="body">
                        <span class="body-text" th:text="${'입양번호 ' + adopting.adoptNo}"></span>
                        <span class="body-text" th:text="${'입양자 ' + adopting.adoptName}"></span>
                        <span class="body-text" th:text="${'입양시작날짜 ' + adopting.adoptStartDate}"></span>
                        <span class="body-text" th:text="${'입양완료날짜 ' + (adopting.adoptEndDate != null ? adopting.adoptEndDate : '')}"></span>
                        <span class="body-text" th:text="${'동물등록번호 ' + adopting.animalDTO.animalCode}"></span>
                    </p>
                    <div class="action-buttons">
                        <a href="/adoption/adopterDetail" class="detail-adopter">상세보기</a>
                        <a href="/adoption/adopterDelete" class="delete-adopter">입양취소</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-content hidden" id="completed">
            <div class="adopterList-container">
                <div class="card" th:each="completed : ${adoptCompletedList}">
                    <div class="adoptStatus">
                        <span th:text="${completed.adoptStatus}"></span>
                    </div>
                    <p class="body">
                        <span class="body-text" th:text="${'입양번호 ' + completed.adoptNo}"></span>
                        <span class="body-text" th:text="${'입양자 ' + completed.adoptName}"></span>
                        <span class="body-text" th:text="${'입양시작날짜 ' + completed.adoptStartDate}"></span>
                        <span class="body-text" th:text="${'입양완료날짜 ' + (completed.adoptEndDate != null ? completed.adoptEndDate : '')}"></span>
                        <span class="body-text" th:text="${'동물등록번호 ' + completed.animalDTO.animalCode}"></span>
                    </p>
                    <div class="action-buttons">
                        <a href="/adoption/adopterDetail" class="detail-adopter">상세보기</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-content hidden" id="canceled">
            <div class="adopterList-container">
                <div class="card" th:each="canceled : ${adoptCanceledList}">
                    <div class="adoptStatus">
                        <span th:text="${canceled.adoptStatus}"></span>
                    </div>
                    <p class="body">
                        <span class="body-text" th:text="${'입양번호 ' + canceled.adoptNo}"></span>
                        <span class="body-text" th:text="${'입양자 ' + canceled.adoptName}"></span>
                        <span class="body-text" th:text="${'입양시작날짜 ' + canceled.adoptStartDate}"></span>
                        <span class="body-text" th:text="${'입양완료날짜 ' + (canceled.adoptEndDate != null ? canceled.adoptEndDate : '')}"></span>
                        <span class="body-text" th:text="${'동물등록번호 ' + canceled.animalDTO.animalCode}"></span>
                    </p>
                    <div class="action-buttons">
                        <a href="/adoption/adopterDetail" class="detail-adopter">상세보기</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const buttons = document.querySelectorAll(".tab-button");
        const contents = document.querySelectorAll(".tab-content");

        buttons.forEach(button => {
            button.addEventListener("click", () => {
                // 모든 버튼과 콘텐츠 초기화
                buttons.forEach(btn => btn.classList.remove("active"));
                contents.forEach(content => content.classList.add("hidden"));

                // 클릭한 버튼과 콘텐츠 활성화
                button.classList.add("active");
                const tabId = button.getAttribute("data-tab");
                document.getElementById(tabId).classList.remove("hidden");
            });
        });
    });
</script>
</body>
</html>
